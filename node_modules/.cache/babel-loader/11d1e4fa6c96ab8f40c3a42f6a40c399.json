{"ast":null,"code":"// IMPORT NPM\nimport React from\"react\";import{Icon,Button}from\"semantic-ui-react\";import{NavLink,useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";// IMPORT ASSETS\nimport SearchBar from\"../SearchBar\";import ModalCreate from\"./ModalCreate\";import ModalConnexion from\"./ModalConnexion\";import{setUserField,login,changeModalState,creatUser,logout}from'../../actions/user';import{search,setResearchField}from\"../../actions/research\";import Logo from'./logo-v.png';import\"./styles.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBar=function NavBar(_ref){var research=_ref.research;var dispatch=useDispatch();var navigate=useNavigate();// on récupère depuis le store les valeurs courantes\n// d'email et password\nvar username=useSelector(function(state){return state.users.username;});var password=useSelector(function(state){return state.users.password;});var userData=useSelector(function(state){return state.users.user;});var logged=useSelector(function(state){return state.users.logged;});var changeField=function changeField(value,name){dispatch(setUserField(value,name));};var handleLogin=function handleLogin(){dispatch(login());//console.log('etape : 2, je passe par le handleLogin vers le middleware login');\n};var handleCreate=function handleCreate(){dispatch(creatUser());};var handleLogout=function handleLogout(){navigate('/');return dispatch(logout());};var changeFieldSearch=function changeFieldSearch(value,name){dispatch(setResearchField(value,name));};var handleSearch=function handleSearch(){dispatch(search());};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar__container\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar__logo\",style:{\"backgroundImage\":\"url(\".concat(Logo,\")\")}})}),/*#__PURE__*/_jsx(\"div\",{className:\"searchbar-container\",children:/*#__PURE__*/_jsx(SearchBar,{research:research,changeField:changeFieldSearch,handleSearch:handleSearch})}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar__buttons-container\",children:[!logged&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ModalCreate,{username:username,password:password,email:userData.email,changeField:changeField,handleCreate:handleCreate,changeModalState:changeModalState})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ModalConnexion,{username:username,password:password,changeField:changeField,handleLogin:handleLogin,changeModalState:changeModalState})})]}),logged&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{as:NavLink,to:\"/user/\".concat(userData.slug),color:\"orange\",size:\"big\",children:[/*#__PURE__*/_jsx(Icon,{name:\"user circle\"}),userData.name]}),/*#__PURE__*/_jsxs(Button,{color:\"teal\",animated:\"fade\",size:\"big\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(Button.Content,{visible:true,children:/*#__PURE__*/_jsx(Icon,{name:\"unlock\"})}),/*#__PURE__*/_jsx(Button.Content,{hidden:true,children:/*#__PURE__*/_jsx(Icon,{name:\"lock\"})})]})]})]})]});};export default NavBar;","map":{"version":3,"sources":["/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/Header/NavBar.js"],"names":["React","Icon","Button","NavLink","useNavigate","useSelector","useDispatch","SearchBar","ModalCreate","ModalConnexion","setUserField","login","changeModalState","creatUser","logout","search","setResearchField","Logo","NavBar","research","dispatch","navigate","username","state","users","password","userData","user","logged","changeField","value","name","handleLogin","handleCreate","handleLogout","changeFieldSearch","handleSearch","email","slug"],"mappings":"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","sourcesContent":["// IMPORT NPM\nimport React from \"react\";\nimport { Icon, Button  } from \"semantic-ui-react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n// IMPORT ASSETS\nimport SearchBar from \"../SearchBar\";\nimport ModalCreate from \"./ModalCreate\";\nimport ModalConnexion from \"./ModalConnexion\";\nimport { setUserField, login, changeModalState, creatUser, logout } from '../../actions/user';\nimport { search, setResearchField } from \"../../actions/research\";\nimport Logo from './logo-v.png';\nimport \"./styles.scss\";\n\nconst NavBar = ({research}) => {\n\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  // on récupère depuis le store les valeurs courantes\n  // d'email et password\n  const username = useSelector((state) => state.users.username);\n  const password = useSelector((state) => state.users.password);\n  const userData = useSelector((state) => state.users.user);\n\n  const logged = useSelector((state) => state.users.logged);\n\n  const changeField = (value, name) => {\n    dispatch(setUserField(value, name));\n  };\n\n  const handleLogin = () => {\n    dispatch(login());\n    //console.log('etape : 2, je passe par le handleLogin vers le middleware login');\n  };\n  const handleCreate = () => {\n    dispatch(creatUser())\n  }\n  const handleLogout = () => {\n    navigate('/');\n    return dispatch(logout());\n  }\n  const changeFieldSearch = (value, name) => {\n    dispatch(setResearchField(value, name));\n  };\n  const handleSearch = () => {\n    dispatch(search());\n  }\n  \n  return( \n    <nav className=\"navbar__container\">\n\n      <NavLink to=\"/\">\n      <div className=\"navbar__logo\" style={{ \"backgroundImage\": `url(${Logo})` }} />\n      </NavLink>  \n\n      <div className=\"searchbar-container\">\n        <SearchBar\n          research={research}\n          changeField={changeFieldSearch}\n          handleSearch={handleSearch}\n        />\n      </div>\n      \n      <div className=\"navbar__buttons-container\">\n        {/* Account Creation and Login button, only visible if not connected to account */}\n        \n        {(!logged) && \n        <>\n          <div>\n          <ModalCreate \n            username={username}\n            password={password}\n            email={userData.email}\n            changeField={changeField}\n            handleCreate={handleCreate}\n            changeModalState={changeModalState}\n          />\n        </div>\n        <div>\n          <ModalConnexion \n            username={username}\n            password={password}\n            changeField={changeField}\n            handleLogin={handleLogin}\n            changeModalState={changeModalState}\n          />\n  \n        </div>\n        </>\n        }\n        {(logged) && \n\n          <>\n          <Button as={NavLink} to={`/user/${userData.slug}`} color=\"orange\" size=\"big\">\n            <Icon name=\"user circle\" />\n            {userData.name}\n          </Button>\n          \n          <Button color=\"teal\" animated='fade' size=\"big\" onClick={handleLogout}>\n            <Button.Content visible><Icon name='unlock' /></Button.Content>\n            <Button.Content hidden><Icon name='lock' /></Button.Content>\n          </Button>\n        </>    \n        }\n\n    \n        \n        {/* Hidden button that will show only once logged in\n        <div>\n        <Button color=\"teal\" size=\"big\">\n          <Icon name=\"user circle\" />\n          Login\n        </Button>\n        </div>\n        */}\n      </div>\n\n    </nav>\n  );\n\n}\n\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}