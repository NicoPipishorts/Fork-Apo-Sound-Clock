{"ast":null,"code":"// IMPORT NPM\nimport React from'react';import{useParams,useLocation}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{useEffect}from'react';// IMPORT ASSETS\nimport'./styles.scss';import Music from'../Cards/Music';import{getPlaylistByID}from'../../actions/playlist';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Playlist=function Playlist(_ref){var baseApiUrl=_ref.baseApiUrl;var dispatch=useDispatch();var location=useLocation();var selectSate=useSelector(function(state){return state.playlists.selectState;});//* useParams used to pickup the slug is the user is not logged\nvar _useParams=useParams(),playlist=_useParams.playlist;useEffect(function(){// console.log('test useEffect playlist wiew');\ndispatch(getPlaylistByID(playlist));window.scrollTo(0,0);},[dispatch,location]);var details=useSelector(function(state){return state.playlists.details;});console.log(baseApiUrl);var pictureFile;function isValidHttpUrl(string){var url;try{url=new URL(string);}catch(_){return false;}return url.protocol===\"http:\"||url.protocol===\"https:\";}if(isValidHttpUrl(details.picture)){pictureFile=details.picture;}else{pictureFile=\"\".concat(baseApiUrl,\"/\").concat(details.picture);}return/*#__PURE__*/_jsx(_Fragment,{children:selectSate&&/*#__PURE__*/_jsxs(\"section\",{className:\"playlist__container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"playlist__avatar--container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"playlist__avatar\",style:{\"backgroundImage\":\"url(\".concat(pictureFile,\")\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"playlist__h1\",children:[\"Playlist: \",/*#__PURE__*/_jsx(\"span\",{className:\"playlist__h1--span\",children:details.name})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"playlist__cards--container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"columns-container\",children:details.musics.map(function(music){return/*#__PURE__*/_jsx(Music,{name:music.title,date:music.releaseDate,image:music.picture,description:music.description,song:music.file,nbLike:music.nbLike,nbListened:music.nbListened,baseApiUrl:baseApiUrl,isValidHttpUrl:isValidHttpUrl},music.id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollbar__placeholder\"})]})});};export default Playlist;","map":{"version":3,"sources":["/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/Playlist/index.js"],"names":["React","useParams","useLocation","useSelector","useDispatch","useEffect","Music","getPlaylistByID","Playlist","baseApiUrl","dispatch","location","selectSate","state","playlists","selectState","playlist","window","scrollTo","details","console","log","pictureFile","isValidHttpUrl","string","url","URL","_","protocol","picture","name","musics","map","music","title","releaseDate","description","file","nbLike","nbListened","id"],"mappings":"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","sourcesContent":["// IMPORT NPM\nimport React from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\n\n\n// IMPORT ASSETS\nimport './styles.scss';\nimport Music from '../Cards/Music';\nimport { getPlaylistByID } from '../../actions/playlist';\n\nconst Playlist = ( {\n  baseApiUrl,\n} ) => {\n\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const selectSate = useSelector((state) => state.playlists.selectState);\n  \n  //* useParams used to pickup the slug is the user is not logged\n  const { playlist } = useParams();\n  useEffect(\n    () => {\n      // console.log('test useEffect playlist wiew');\n      dispatch(getPlaylistByID(playlist));\n      window.scrollTo(0, 0);\n    }, [dispatch, location]\n  );\n\n  const details = useSelector((state) => state.playlists.details);\n  console.log(baseApiUrl);\n\n  let pictureFile;\n\n  function isValidHttpUrl(string) {\n    let url;    \n    try {\n      url = new URL(string);\n    } catch (_) {\n      return false;  \n    }  \n    return url.protocol === \"http:\" || url.protocol === \"https:\";\n  }\n\n  if(isValidHttpUrl(details.picture)){\n    pictureFile = details.picture;\n  } else {\n    pictureFile = `${baseApiUrl}/${details.picture}`;    \n  } \n\n  return(\n    <>\n    {selectSate && (\n      <section className='playlist__container'>\n        \n        <div className='playlist__avatar--container'>\n          <div className=\"playlist__avatar\" style={{\"backgroundImage\": `url(${pictureFile})` }}></div>\n          <div className='playlist__h1'>Playlist: <span className='playlist__h1--span'>{ details.name }</span></div>\n        </div>    \n      \n        <div className='playlist__cards--container'>\n          <div className='columns-container'>\n            {details.musics.map((music) => (\n              <Music\n                key={music.id}\n                name={music.title}\n                date={music.releaseDate}\n                image={music.picture}\n                description={music.description}\n                song={music.file}\n                nbLike={music.nbLike} \n                nbListened={music.nbListened} \n                baseApiUrl={baseApiUrl}   \n                isValidHttpUrl={isValidHttpUrl}\n                />\n            ))}\n          </div>\n        </div>\n\n      {/* //* Scrollbar hide placeholder */ }\n      <div className=\"scrollbar__placeholder\"></div>\n\n      </section>\n    )}\n    </>\n  );\n};\n\nexport default Playlist;"]},"metadata":{},"sourceType":"module"}