{"ast":null,"code":"var _jsxFileName = \"/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/Header/NavBar.js\",\n    _s = $RefreshSig$();\n\n// IMPORT NPM\nimport React from \"react\";\nimport { Icon, Button } from \"semantic-ui-react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\"; // IMPORT ASSETS\n\nimport SearchBar from \"../SearchBar\";\nimport ModalCreate from \"./ModalCreate\";\nimport ModalConnexion from \"./ModalConnexion\";\nimport { setUserField, login, creatUser, logout } from '../../actions/user';\nimport { search, setResearchField } from \"../../actions/research\";\nimport Logo from './logo-v.png';\nimport \"./styles.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst NavBar = _ref => {\n  _s();\n\n  let {\n    research\n  } = _ref;\n  const dispatch = useDispatch();\n  const navigate = useNavigate(); // on récupère depuis le store les valeurs courantes\n  // d'email et password\n\n  const username = useSelector(state => state.users.username);\n  const password = useSelector(state => state.users.password);\n  const userData = useSelector(state => state.users.user);\n  const logged = useSelector(state => state.users.logged);\n\n  const changeField = (value, name) => {\n    dispatch(setUserField(value, name));\n  };\n\n  const handleLogin = () => {\n    dispatch(login()); //console.log('etape : 2, je passe par le handleLogin vers le middleware login');\n  };\n\n  const handleCreate = () => {\n    dispatch(creatUser());\n  };\n\n  const handleLogout = () => {\n    navigate('/');\n    return dispatch(logout());\n  };\n\n  const changeFieldSearch = (value, name) => {\n    dispatch(setResearchField(value, name));\n  };\n\n  const handleSearch = () => {\n    dispatch(search());\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar__container\",\n    children: [/*#__PURE__*/_jsxDEV(NavLink, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar__logo\",\n        style: {\n          \"backgroundImage\": `url(${Logo})`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchbar-container\",\n      children: /*#__PURE__*/_jsxDEV(SearchBar, {\n        research: research,\n        changeField: changeFieldSearch,\n        handleSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar__buttons-container\",\n      children: [!logged && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(ModalCreate, {\n            username: username,\n            password: password,\n            email: userData.email,\n            changeField: changeField,\n            handleCreate: handleCreate,\n            changeModalState: changeModalState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(ModalConnexion, {\n            username: username,\n            password: password,\n            changeField: changeField,\n            handleLogin: handleLogin,\n            changeModalState: changeModalState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true), logged && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          as: NavLink,\n          to: `/user/${userData.slug}`,\n          color: \"orange\",\n          size: \"big\",\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"user circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), userData.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"teal\",\n          animated: \"fade\",\n          size: \"big\",\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsxDEV(Button.Content, {\n            visible: true,\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              name: \"log out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button.Content, {\n            hidden: true,\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              name: \"lock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NavBar, \"8gLQXnszrg9AIdeE70GtMUU8Z6k=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = NavBar;\nexport default NavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"sources":["/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/Header/NavBar.js"],"names":["React","Icon","Button","NavLink","useNavigate","useSelector","useDispatch","SearchBar","ModalCreate","ModalConnexion","setUserField","login","creatUser","logout","search","setResearchField","Logo","NavBar","research","dispatch","navigate","username","state","users","password","userData","user","logged","changeField","value","name","handleLogin","handleCreate","handleLogout","changeFieldSearch","handleSearch","email","changeModalState","slug"],"mappings":"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","sourcesContent":["// IMPORT NPM\nimport React from \"react\";\nimport { Icon, Button  } from \"semantic-ui-react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n// IMPORT ASSETS\nimport SearchBar from \"../SearchBar\";\nimport ModalCreate from \"./ModalCreate\";\nimport ModalConnexion from \"./ModalConnexion\";\nimport { setUserField, login, creatUser, logout } from '../../actions/user';\nimport { search, setResearchField } from \"../../actions/research\";\nimport Logo from './logo-v.png';\nimport \"./styles.scss\";\n\nconst NavBar = ({research}) => {\n\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  // on récupère depuis le store les valeurs courantes\n  // d'email et password\n  const username = useSelector((state) => state.users.username);\n  const password = useSelector((state) => state.users.password);\n  const userData = useSelector((state) => state.users.user);\n\n  const logged = useSelector((state) => state.users.logged);\n\n  const changeField = (value, name) => {\n    dispatch(setUserField(value, name));\n  };\n\n  const handleLogin = () => {\n    dispatch(login());\n    //console.log('etape : 2, je passe par le handleLogin vers le middleware login');\n  };\n  const handleCreate = () => {\n    dispatch(creatUser())\n  }\n  const handleLogout = () => {\n    navigate('/');\n    return dispatch(logout());\n  }\n  const changeFieldSearch = (value, name) => {\n    dispatch(setResearchField(value, name));\n  };\n  const handleSearch = () => {\n    dispatch(search());\n  }\n  \n  return( \n    <nav className=\"navbar__container\">\n\n      <NavLink to=\"/\">\n      <div className=\"navbar__logo\" style={{ \"backgroundImage\": `url(${Logo})` }} />\n      </NavLink>  \n\n      <div className=\"searchbar-container\">\n        <SearchBar\n          research={research}\n          changeField={changeFieldSearch}\n          handleSearch={handleSearch}\n        />\n      </div>\n      \n      <div className=\"navbar__buttons-container\">\n        {/* Account Creation and Login button, only visible if not connected to account */}\n        \n        {(!logged) && \n        <>\n          <div>\n          <ModalCreate \n            username={username}\n            password={password}\n            email={userData.email}\n            changeField={changeField}\n            handleCreate={handleCreate}\n            changeModalState={changeModalState}\n          />\n        </div>\n        <div>\n          <ModalConnexion \n            username={username}\n            password={password}\n            changeField={changeField}\n            handleLogin={handleLogin}\n            changeModalState={changeModalState}\n          />\n  \n        </div>\n        </>\n        }\n        {(logged) && \n\n          <>\n          <Button as={NavLink} to={`/user/${userData.slug}`} color=\"orange\" size=\"big\">\n            <Icon name=\"user circle\" />\n            {userData.name}\n          </Button>\n          \n          <Button color=\"teal\" animated='fade' size=\"big\" onClick={handleLogout}>\n            <Button.Content visible><Icon name='log out' /></Button.Content>\n            <Button.Content hidden><Icon name='lock' /></Button.Content>\n          </Button>\n        </>    \n        }\n\n    \n        \n        {/* Hidden button that will show only once logged in\n        <div>\n        <Button color=\"teal\" size=\"big\">\n          <Icon name=\"user circle\" />\n          Login\n        </Button>\n        </div>\n        */}\n      </div>\n\n    </nav>\n  );\n\n}\n\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}