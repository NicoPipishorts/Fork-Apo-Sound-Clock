{"ast":null,"code":"import _slicedToArray from\"/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// == IMPORT NPM\nimport React,{useState}from\"react\";import{Header,Modal,Button,Icon,Form,Input,Message}from\"semantic-ui-react\";import'./styles.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ModalCreate=function ModalCreate(_ref){var username=_ref.username,email=_ref.email,password=_ref.password,changeField=_ref.changeField,handleCreate=_ref.handleCreate,errorCode=_ref.errorCode;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),submitstate=_useState2[0],setSubmitstate=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),passwordErrorStrength=_useState4[0],setPasswordErrorStrength=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),passwordErrorNotSame=_useState6[0],setPasswordErrorNotSame=_useState6[1];var handleChange=function handleChange(evt){changeField(evt.target.value,evt.target.name);};var handleSubmit=function handleSubmit(evt){evt.preventDefault();handleCreate();};//* Password verification steps\nvar verifPassword=function verifPassword(evt){var regularExpression=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;var password2=document.getElementById('password_verif').value;changeField(evt.target.value,evt.target.name);if(password2===''){if(!regularExpression.test(evt.target.value)){setPasswordErrorStrength(false);}else{setPasswordErrorStrength(true);}}else{if(password2!==password){setPasswordErrorNotSame(false);}else{setPasswordErrorNotSame(true);setSubmitstate(false);}}};console.log(passwordErrorNotSame);var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{centered:false,onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,trigger:/*#__PURE__*/_jsxs(Button,{name:\"createButton\",color:\"teal\",className:\"navbar__buttons\",children:[/*#__PURE__*/_jsx(Icon,{name:\"add user\"}),\"Create Account\"]}),children:[/*#__PURE__*/_jsx(Header,{size:\"large\",color:\"teal\",children:\"Creation de votre compte\"}),/*#__PURE__*/_jsx(Modal.Content,{children:/*#__PURE__*/_jsxs(Form,{className:\"modal__creat__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Field,{children:/*#__PURE__*/_jsx(Input,{className:\"navbar__login-btns\",label:{icon:'asterisk',color:'teal'},labelPosition:\"left corner\",icon:/*#__PURE__*/_jsx(Icon,{name:\"user circle\",color:\"teal\"}),iconPosition:\"left\",placeholder:\"pseudo\",size:\"huge\",type:\"text\",required:true,fluid:true,onChange:handleChange,name:\"name\",value:username})}),/*#__PURE__*/_jsx(Form.Field,{children:/*#__PURE__*/_jsx(Input,{className:\"navbar__login-btns\",label:{icon:'asterisk',color:'teal'},labelPosition:\"left corner\",icon:/*#__PURE__*/_jsx(Icon,{name:\"mail\",color:\"teal\"}),iconPosition:\"left\",placeholder:\"e-mail\",size:\"huge\",type:\"email\",required:true,fluid:true,onChange:handleChange,name:\"email\",value:email})}),/*#__PURE__*/_jsx(Form.Field,{children:/*#__PURE__*/_jsx(Input,{className:\"navbar__login-btns\",label:{icon:'asterisk',color:'teal'},labelPosition:\"left corner\",icon:/*#__PURE__*/_jsx(Icon,{name:\"lock\",color:\"teal\"}),iconPosition:\"left\",placeholder:\"mot de passe\",size:\"huge\",type:\"password\",required:true,fluid:true,onChange:verifPassword,name:\"password\",value:password})}),/*#__PURE__*/_jsx(Form.Field,{children:/*#__PURE__*/_jsx(Input,{className:\"navbar__login-btns\",label:{icon:'asterisk',color:'teal'},labelPosition:\"left corner\",icon:/*#__PURE__*/_jsx(Icon,{name:\"lock\",color:\"teal\"}),iconPosition:\"left\",placeholder:\"confirmer le mot de passe\",size:\"huge\",type:\"password\",required:true,fluid:true,onChange:verifPassword,name:\"password_verif\",id:\"password_verif\"})}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsxs(Message,{negative:true,hidden:passwordErrorStrength,children:[/*#__PURE__*/_jsx(Message.Header,{children:\" Le mot de passe remplis pas les crit\\xE8res.\"}),/*#__PURE__*/_jsx(Message.Content,{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\" Minimum 8 Caract\\xE8res\"}),/*#__PURE__*/_jsx(\"li\",{children:\" Au moins 1 chiffre\"}),/*#__PURE__*/_jsx(\"li\",{children:\" Au moins 1 majusciles\"}),/*#__PURE__*/_jsx(\"li\",{children:\" Et au moins 1 charact\\xE8res sp\\xE9cial ( ! @ # $ % & *) \"})]})})]}),/*#__PURE__*/_jsx(Message,{negative:true,hidden:passwordErrorNotSame,children:/*#__PURE__*/_jsx(Message.Header,{children:\" Les mots de passes ne correspondent pas.\"})})]})}),/*#__PURE__*/_jsx(Button,{size:\"huge\",fluid:true,color:\"teal\",type:\"submit\",disabled:submitstate,children:\"Cr\\xE9er\"}),errorCode===422&&/*#__PURE__*/_jsx(Message,{className:\"error__mail\",children:/*#__PURE__*/_jsx(Message.Header,{className:\"error__mail__content\",children:\"L'adresse E-mail existe d\\xE9j\\xE0 !\"})}),errorCode===201&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(Message,{positive:true,className:\"succes__upload\",children:/*#__PURE__*/_jsx(Message.Header,{className:\"succes__upload__content\",children:\" Compte cr\\xE9\\xE9.\"})}),/*#__PURE__*/_jsx(Button,{icon:\"close\",color:\"teal\",size:\"big\",onClick:function onClick(){return window.location.reload();},children:\" Fermer la fen\\xEAtre \"})]})})]})})]})});};export default ModalCreate;","map":{"version":3,"sources":["/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/Header/ModalCreate.js"],"names":["React","useState","Header","Modal","Button","Icon","Form","Input","Message","ModalCreate","username","email","password","changeField","handleCreate","errorCode","submitstate","setSubmitstate","passwordErrorStrength","setPasswordErrorStrength","passwordErrorNotSame","setPasswordErrorNotSame","handleChange","evt","target","value","name","handleSubmit","preventDefault","verifPassword","regularExpression","password2","document","getElementById","test","console","log","open","setOpen","icon","color","window","location","reload"],"mappings":"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","sourcesContent":["// == IMPORT NPM\nimport React, { useState } from \"react\";\nimport {Header, Modal, Button, Icon, Form, Input, Message } from \"semantic-ui-react\";\nimport './styles.scss'\n\nconst ModalCreate = ({\n  username,\n  email,\n  password,\n  changeField,\n  handleCreate,\n  errorCode\n}) => { \n\n  const [submitstate, setSubmitstate] = useState(true);\n  const [passwordErrorStrength, setPasswordErrorStrength] = useState(true);\n  const [passwordErrorNotSame, setPasswordErrorNotSame] = useState(true);\n  \n  const handleChange = (evt) => {\n    changeField(evt.target.value, evt.target.name);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    handleCreate();\n  }; \n\n  //* Password verification steps\n  const verifPassword = (evt) => {\n    const regularExpression = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;\n    const password2 = document.getElementById('password_verif').value;\n\n    changeField(evt.target.value, evt.target.name);\n\n    if(password2 === '') {\n\n      if(!regularExpression.test(evt.target.value)){\n        setPasswordErrorStrength(false);\n      } else {\n        setPasswordErrorStrength(true);\n      }\n\n    } else {\n\n      if(password2 !== password){\n        setPasswordErrorNotSame(false);\n      } else {\n        setPasswordErrorNotSame(true);\n        setSubmitstate(false);\n      }\n\n    }\n\n  }\n\n  console.log(passwordErrorNotSame);\n\n  const [open, setOpen] = React.useState(false)\n  return (\n  <>    \n    <Modal\n    centered={false}\n    onClose={() => setOpen(false)}\n      onOpen={() => setOpen(true)}\n      open={open}\n      trigger={\n      <Button  name=\"createButton\" color='teal' className=\"navbar__buttons\" >\n      <Icon name=\"add user\" />\n      Create Account\n      </Button>\n      }\n      >\n      <Header size='large' color=\"teal\">Creation de votre compte</Header>\n      <Modal.Content>\n\n        <Form className=\"modal__creat__form\" onSubmit={handleSubmit}>\n        <Form.Field>\n          <Input\n            className=\"navbar__login-btns\"\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            icon={<Icon name='user circle' color='teal' />}\n            iconPosition='left'\n            placeholder='pseudo'\n            size='huge'\n            type='text'\n            required\n            fluid \n            onChange={handleChange}\n            name='name'\n            value={username}\n          />\n        </Form.Field>\n        <Form.Field>\n          <Input\n            className=\"navbar__login-btns\"\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            icon={<Icon name='mail' color='teal' />}\n            iconPosition='left'\n            placeholder='e-mail'\n            size='huge'\n            type='email'\n            required\n            fluid \n            onChange={handleChange}\n            name='email'\n            value={email}\n          />\n        </Form.Field>\n        <Form.Field>\n        <Input\n          className=\"navbar__login-btns\"\n          label={{ icon: 'asterisk', color: 'teal'  }}\n          labelPosition='left corner'\n          icon={<Icon name='lock' color='teal' />}\n          iconPosition='left'\n          placeholder='mot de passe'\n          size='huge'\n          type='password'\n          required\n          fluid \n          onChange={verifPassword}\n          name='password'\n          value={password}\n        />\n        </Form.Field>\n        <Form.Field>\n          <Input\n            className=\"navbar__login-btns\"\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            icon={<Icon name='lock' color='teal' />}\n            iconPosition='left'\n            placeholder='confirmer le mot de passe'\n            size='huge'\n            type='password'\n            required\n            fluid \n            onChange={verifPassword}\n            name='password_verif'\n            id='password_verif'\n          />\n        </Form.Field>\n          { \n          <>\n          <Form.Field>\n            <Message negative hidden={passwordErrorStrength}>\n              <Message.Header> Le mot de passe remplis pas les critères.</Message.Header>\n              <Message.Content> \n                <ul>\n                  <li> Minimum 8 Caractères</li>\n                  <li> Au moins 1 chiffre</li>\n                  <li> Au moins 1 majusciles</li>\n                  <li> Et au moins 1 charactères spécial ( &#33; &#64; &#35; &#36; &#37; &#38; &#42;) </li>\n                </ul>\n              </Message.Content>\n            </Message>\n            <Message negative hidden={passwordErrorNotSame}>\n              <Message.Header> Les mots de passes ne correspondent pas.</Message.Header>\n            </Message>\n          </Form.Field>\n          </>\n          }\n\n          <Button size='huge' fluid color='teal' type='submit' disabled={submitstate}>Créer</Button>\n          \n          {errorCode === 422 && \n            <Message className=\"error__mail\">\n              <Message.Header className=\"error__mail__content\">L'adresse E-mail existe déjà !</Message.Header>\n            </Message>\n          }\n          { (errorCode === 201) &&\n          <>\n          <Form.Field>\n            <Message positive className=\"succes__upload\">\n              <Message.Header className=\"succes__upload__content\" > Compte créé.</Message.Header>\n            </Message>\n            <Button icon='close' color='teal' size='big' onClick={() => window.location.reload()}> Fermer la fenêtre </Button>\n          </Form.Field>\n          </>\n          }\n        </Form>\n\n      </Modal.Content>\n    </Modal>\n  </>\n\n  );\n\n};\n\nexport default ModalCreate;"]},"metadata":{},"sourceType":"module"}