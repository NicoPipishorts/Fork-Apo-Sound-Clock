{"ast":null,"code":"var _jsxFileName = \"/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/User/ModalAddMusic.js\",\n    _s = $RefreshSig$();\n\n// == IMPORT NPM\nimport React, { useState } from \"react\";\nimport { Header, Modal, Button, Icon, Form, Input, TextArea, Progress, Message } from \"semantic-ui-react\";\nimport DatePicker from 'react-date-picker'; // == IMPORT ASSETS\n\nimport './styles.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ModalAddMusic = _ref => {\n  _s();\n\n  let {\n    title,\n    file,\n    picture,\n    releaseDate,\n    description,\n    changeMusicField,\n    handleAddMusic,\n    progress,\n    errorCode\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const [dateValue, onDateChange] = useState(new Date());\n\n  const handleChange = evt => {\n    //console.log('la realsedate d\\'éclanche bien ça', evt.target.name);\n    changeMusicField(evt.target.value, evt.target.name);\n  };\n\n  const handleFiles = evt => {\n    changeMusicField(evt.target.files[0], evt.target.name);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    handleAddMusic(dateValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    centered: false,\n    open: open,\n    onClose: () => setOpen(false),\n    onOpen: () => setOpen(true),\n    trigger: /*#__PURE__*/_jsxDEV(Button, {\n      className: \"content__addSong--btn\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        name: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), \"Ajouter une musique.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this),\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      color: \"teal\",\n      size: \"large\",\n      children: \"Ajoutez une musique a votre compte:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Content, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"upload-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            label: {\n              icon: 'asterisk',\n              color: 'teal'\n            },\n            labelPosition: \"left corner\",\n            placeholder: \"Titre du Morceau\",\n            size: \"huge\",\n            type: \"text\",\n            fluid: true,\n            onChange: handleChange,\n            name: \"title\",\n            value: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            onChange: onDateChange,\n            value: dateValue,\n            format: \"d-M-y\",\n            dayPlaceholder: \"--\",\n            monthPlaceholder: \"--\",\n            yearPlaceholder: \"----\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n          placeholder: \"Description\",\n          className: \"file-textArea\",\n          onChange: handleChange,\n          name: \"description\",\n          value: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"file-input__btn\",\n            as: \"label\",\n            htmlFor: \"picture\",\n            type: \"button\",\n            color: \"teal\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              name: \"file image outline\",\n              size: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 13\n            }, this), \"Choisir une image de couverture.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"picture\",\n            className: \"file-input__hidden\",\n            onChange: handleFiles,\n            name: \"picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"file-input__hidden--span\",\n            children: picture.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"file-input__btn\",\n            as: \"label\",\n            htmlFor: \"file\",\n            type: \"button\",\n            color: \"teal\",\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              name: \"file audio outline\",\n              size: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 13\n            }, this), \"Choisissez votre chanson.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"file\",\n            className: \"file-input__hidden\",\n            onChange: handleFiles,\n            name: \"file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"file-input__hidden--span\",\n            children: file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__submit-container\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"teal\",\n            size: \"huge\",\n            type: \"submit\",\n            children: \"Uploader\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }, this), progress && /*#__PURE__*/_jsxDEV(Progress, {\n          className: \"progressbar\",\n          percent: progress,\n          color: \"teal\",\n          progress: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), progress === 100 && /*#__PURE__*/_jsxDEV(Message, {\n          positive: true,\n          className: \"succes__upload\",\n          children: /*#__PURE__*/_jsxDEV(Message.Header, {\n            className: \"succes__upload__content\",\n            children: \" Ta musique a bien \\xE9t\\xE9 upload\\xE9 !\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }, this), errorCode === 422 && /*#__PURE__*/_jsxDEV(Message, {\n          positive: true,\n          className: \"succes__upload\",\n          children: /*#__PURE__*/_jsxDEV(Message.Header, {\n            className: \"succes__upload__content\",\n            children: \" Erreur. Fichier trop lourd ou mauvais format d'envoie....\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }, this), errorCode === 201 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Message, {\n            positive: true,\n            className: \"succes__upload\",\n            children: /*#__PURE__*/_jsxDEV(Message.Header, {\n              className: \"succes__upload__content\",\n              children: \" Mise \\xE0 jour du profil ok.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            icon: \"close\",\n            color: \"teal\",\n            size: \"big\",\n            onClick: () => window.location.reload(),\n            children: \" Fermer la fen\\xEAtre \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModalAddMusic, \"Omydd8Ne1T7395RwGAmumOKB4t4=\");\n\n_c = ModalAddMusic;\nexport default ModalAddMusic;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalAddMusic\");","map":{"version":3,"sources":["/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/User/ModalAddMusic.js"],"names":["React","useState","Header","Modal","Button","Icon","Form","Input","TextArea","Progress","Message","DatePicker","ModalAddMusic","title","file","picture","releaseDate","description","changeMusicField","handleAddMusic","progress","errorCode","open","setOpen","dateValue","onDateChange","Date","handleChange","evt","target","value","name","handleFiles","files","handleSubmit","preventDefault","icon","color","window","location","reload"],"mappings":"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","sourcesContent":["// == IMPORT NPM\nimport React, {useState} from \"react\";\nimport { Header, Modal, Button, Icon, Form, Input, TextArea, Progress, Message } from \"semantic-ui-react\";\nimport DatePicker from 'react-date-picker';\n\n// == IMPORT ASSETS\nimport './styles.scss'\n\nconst ModalAddMusic = ({\n  title,\n  file,\n  picture,\n  releaseDate,\n  description,\n  changeMusicField,\n  handleAddMusic,\n  progress,\n  errorCode\n}) => { \n\n  const [open, setOpen] = useState(false);\n  const [dateValue, onDateChange] = useState(new Date());\n\n  const handleChange = (evt) => {\n    //console.log('la realsedate d\\'éclanche bien ça', evt.target.name);\n    changeMusicField(evt.target.value, evt.target.name);\n  };\n\n  const handleFiles =(evt) => {\n    changeMusicField(evt.target.files[0], evt.target.name);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    handleAddMusic(dateValue);\n  };\n  \n  return(\n\n    <Modal\n    centered={false}\n    open={open}\n    onClose={() => setOpen(false)}\n    onOpen={() => setOpen(true)}\n    trigger={\n      <Button className=\"content__addSong--btn\">\n        <Icon name=\"add\" />\n        Ajouter une musique.\n      </Button>\n      }\n  >\n    <Header color='teal' size='large'>Ajoutez une musique a votre compte:</Header>\n    <Modal.Content>\n\n      <Form className=\"upload-form\" onSubmit={handleSubmit}>\n        <Form.Field>\n          <Input\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            placeholder='Titre du Morceau'\n            size='huge'\n            type='text'\n            fluid \n            onChange={handleChange}\n            name='title'\n            value={title}\n          />\n        </Form.Field>\n        <Form.Field>\n          <DatePicker \n            onChange={onDateChange} \n            value={dateValue} \n            format=\"d-M-y\"\n            dayPlaceholder=\"--\"\n            monthPlaceholder=\"--\"\n            yearPlaceholder=\"----\"\n            required\n          />\n          {/*\n          <Input\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            placeholder='Date de sortie de la chanson: JJ/MM/AAAA'\n            size='huge'\n            type='text'\n            fluid \n            onChange={handleChange}\n            name='releaseDate'\n            value={releaseDate}\n          />\n        */}\n        </Form.Field>\n        {/*\n        //TODO This will be auto populated by the users label\n        <Form.Field>\n          <Input\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            placeholder='Label'\n            size='huge'\n            type='text' \n            fluid \n            required\n          />\n        </Form.Field>\n        */}\n        <TextArea \n          placeholder='Description' \n          className='file-textArea'\n          onChange={handleChange}\n          name='description'\n          value={description}\n        />\n        <br /><br />\n        <div className=\"file-input-container\">\n          <Button className=\"file-input__btn\" as=\"label\" htmlFor=\"picture\" type=\"button\" color='teal'>\n            <Icon name=\"file image outline\" size='large'/>\n            Choisir une image de couverture.\n          </Button>\n          <input \n            type=\"file\" \n            id=\"picture\" \n            className=\"file-input__hidden\" \n            onChange={handleFiles}\n            name='picture'\n          />\n          <span className='file-input__hidden--span'>{picture.name}</span>\n        </div>\n        <br />\n        <div className=\"file-input-container\">\n          <Button className=\"file-input__btn\" as=\"label\" htmlFor=\"file\" type=\"button\" color='teal'>\n            <Icon name=\"file audio outline\" size='large'/>\n            Choisissez votre chanson.\n          </Button>\n          <input \n            type=\"file\" \n            id=\"file\" \n            className=\"file-input__hidden\" \n            onChange={handleFiles}\n            name='file'\n          />\n          <span className='file-input__hidden--span'>{file.name}</span>\n        </div>\n        <br /><br />\n        <div className=\"form__submit-container\"> \n          <Button color='teal' size='huge' type='submit'>Uploader</Button>\n        </div>\n        { \n          progress && \n          <Progress className=\"progressbar\" percent={progress}  color='teal' progress />  \n        }\n\n        {\n        (progress === 100) &&\n        <Message positive className=\"succes__upload\">\n          <Message.Header className=\"succes__upload__content\" > Ta musique a bien été uploadé !</Message.Header>\n        </Message>\n          \n        }\n\n        {\n        (errorCode === 422) &&\n        <Message positive className=\"succes__upload\">\n          <Message.Header className=\"succes__upload__content\" > Erreur. Fichier trop lourd ou mauvais format d'envoie....</Message.Header>\n        </Message>\n          \n        }\n        { (errorCode === 201) &&\n        <>\n          <Message positive className=\"succes__upload\">\n            <Message.Header className=\"succes__upload__content\" > Mise à jour du profil ok.</Message.Header>\n          </Message>\n          <Button icon='close' color='teal' size='big' onClick={() => window.location.reload()}> Fermer la fenêtre </Button>\n        </>\n        }\n\n      </Form>\n\n    </Modal.Content>\n  </Modal>\n\n  );\n\n};\n\nexport default ModalAddMusic;"]},"metadata":{},"sourceType":"module"}