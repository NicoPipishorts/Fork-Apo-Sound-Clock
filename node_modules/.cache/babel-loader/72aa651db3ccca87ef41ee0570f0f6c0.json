{"ast":null,"code":"// == IMPORT NPM\nimport axios from \"axios\"; // == IMPORT ASSETS\n\nimport { GET_PLAYLISTS_LIST, setPlaylistsList, GET_PLAYLIST_BY_ID, setPlaylistById } from '../actions/playlist';\n\nconst playlistApi = store => next => action => {\n  const baseURL = 'http://denisjulien-server.eddi.cloud/projet-9-sound-clock-back/public';\n\n  switch (action.type) {\n    case GET_PLAYLISTS_LIST:\n      axios.get(`${baseURL}/api/playlists/top10/like`).then(response => {\n        // console.log('La liste des musiques',response);\n        store.dispatch(setPlaylistsList(response.data));\n      }).catch(error => {\n        // eslint-disable-next-line no-console\n        console.log('error', error);\n      });\n      break;\n\n    case GET_PLAYLIST_BY_ID:\n      axios.get(`${baseURL}/api/playlists/${action.id}`).then(response => {\n        // console.log('La playlist selectionné par id ici : ',response);\n        store.dispatch(setPlaylistById(response.data));\n      }).catch(error => {\n        console.log('error', error);\n      });\n      break;\n\n    default:\n      next(action);\n  }\n};\n\nexport default playlistApi;","map":{"version":3,"sources":["/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/middlewares/playlistApi.js"],"names":["axios","GET_PLAYLISTS_LIST","setPlaylistsList","GET_PLAYLIST_BY_ID","setPlaylistById","playlistApi","store","next","action","baseURL","type","get","then","response","dispatch","data","catch","error","console","log","id"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,SACIC,kBADJ,EAEIC,gBAFJ,EAGIC,kBAHJ,EAIIC,eAJJ,QAKO,qBALP;;AAOA,MAAMC,WAAW,GAAIC,KAAD,IAAYC,IAAD,IAAWC,MAAD,IAAW;AAElD,QAAMC,OAAO,GAAG,uEAAhB;;AAEA,UAAQD,MAAM,CAACE,IAAf;AAEE,SAAKT,kBAAL;AACED,MAAAA,KAAK,CAACW,GAAN,CAAW,GAAEF,OAAQ,2BAArB,EACCG,IADD,CACOC,QAAD,IAAc;AAChB;AACAP,QAAAA,KAAK,CAACQ,QAAN,CAAeZ,gBAAgB,CAACW,QAAQ,CAACE,IAAV,CAA/B;AACD,OAJH,EAKCC,KALD,CAKQC,KAAD,IAAW;AACd;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACD,OARH;AASA;;AAEA,SAAKd,kBAAL;AACEH,MAAAA,KAAK,CAACW,GAAN,CAAW,GAAEF,OAAQ,kBAAiBD,MAAM,CAACY,EAAG,EAAhD,EACCR,IADD,CACOC,QAAD,IAAc;AAChB;AACAP,QAAAA,KAAK,CAACQ,QAAN,CAAeV,eAAe,CAACS,QAAQ,CAACE,IAAV,CAA9B;AACD,OAJH,EAKCC,KALD,CAKQC,KAAD,IAAW;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACD,OAPH;AAQA;;AACJ;AACAV,MAAAA,IAAI,CAACC,MAAD,CAAJ;AAzBF;AA2BD,CA/BD;;AAgCA,eAAeH,WAAf","sourcesContent":["// == IMPORT NPM\nimport axios from \"axios\";\n\n// == IMPORT ASSETS\nimport {\n    GET_PLAYLISTS_LIST, \n    setPlaylistsList,\n    GET_PLAYLIST_BY_ID,\n    setPlaylistById\n} from '../actions/playlist';\n\nconst playlistApi = (store) => (next) => (action) =>{\n\n  const baseURL = 'http://denisjulien-server.eddi.cloud/projet-9-sound-clock-back/public';\n\n  switch (action.type) {\n\n    case GET_PLAYLISTS_LIST : \n      axios.get(`${baseURL}/api/playlists/top10/like`)\n      .then((response) => {\n          // console.log('La liste des musiques',response);\n          store.dispatch(setPlaylistsList(response.data));\n        })\n      .catch((error) => {\n          // eslint-disable-next-line no-console\n          console.log('error', error);\n        });\n      break;\n\n      case GET_PLAYLIST_BY_ID : \n        axios.get(`${baseURL}/api/playlists/${action.id}`)\n        .then((response) => {\n            // console.log('La playlist selectionné par id ici : ',response);\n            store.dispatch(setPlaylistById(response.data));\n          })\n        .catch((error) => {\n            console.log('error', error);\n          });\n        break;\n    default:\n    next(action);   \n  }\n};\nexport default playlistApi;"]},"metadata":{},"sourceType":"module"}