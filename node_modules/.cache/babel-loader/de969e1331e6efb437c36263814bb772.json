{"ast":null,"code":"import _slicedToArray from\"/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// == IMPORT NPM\nimport React,{useState}from\"react\";import{Header,Modal,Button,Icon,Form,Input,TextArea,Progress,Message}from\"semantic-ui-react\";import DatePicker from'react-date-picker';// == IMPORT ASSETS\nimport'./styles.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalAddMusic=function ModalAddMusic(_ref){var title=_ref.title,file=_ref.file,picture=_ref.picture,releaseDate=_ref.releaseDate,description=_ref.description,changeField=_ref.changeField,handleAddMusic=_ref.handleAddMusic,progress=_ref.progress,errorCode=_ref.errorCode;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(new Date()),_useState4=_slicedToArray(_useState3,2),dateValue=_useState4[0],onDateChange=_useState4[1];var handleChange=function handleChange(evt){//console.log('la realsedate d\\'éclanche bien ça', evt.target.name);\nchangeField(evt.target.value,evt.target.name);};var handleFiles=function handleFiles(evt){changeField(evt.target.files[0],evt.target.name);};var handleSubmit=function handleSubmit(evt){evt.preventDefault();console.log(dateValue);handleAddMusic(dateValue);};return/*#__PURE__*/_jsxs(Modal,{centered:false,open:open,onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},trigger:/*#__PURE__*/_jsxs(Button,{className:\"content__addSong--btn\",children:[/*#__PURE__*/_jsx(Icon,{name:\"add\"}),\"Ajouter une musique.\"]}),children:[/*#__PURE__*/_jsx(Header,{color:\"teal\",size:\"large\",children:\"Ajoutez une musique a votre compte:\"}),/*#__PURE__*/_jsx(Modal.Content,{children:/*#__PURE__*/_jsxs(Form,{className:\"upload-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Form.Field,{children:/*#__PURE__*/_jsx(Input,{label:{icon:'asterisk',color:'teal'},labelPosition:\"left corner\",placeholder:\"Titre du Morceau\",size:\"huge\",type:\"text\",fluid:true,onChange:handleChange,name:\"title\",value:title})}),/*#__PURE__*/_jsx(Form.Field,{children:/*#__PURE__*/_jsx(DatePicker,{onChange:onDateChange,value:dateValue,format:\"d-M-y\",dayPlaceholder:\"--\",monthPlaceholder:\"--\",yearPlaceholder:\"----\",required:true})}),/*#__PURE__*/_jsx(TextArea,{placeholder:\"Description\",className:\"file-textArea\",onChange:handleChange,name:\"description\",value:description}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-container\",children:[/*#__PURE__*/_jsxs(Button,{className:\"file-input__btn\",as:\"label\",htmlFor:\"picture\",type:\"button\",color:\"teal\",children:[/*#__PURE__*/_jsx(Icon,{name:\"file image outline\",size:\"large\"}),\"Choisir une image de couverture.\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"picture\",className:\"file-input__hidden\",onChange:handleFiles,name:\"picture\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-container\",children:[/*#__PURE__*/_jsxs(Button,{className:\"file-input__btn\",as:\"label\",htmlFor:\"file\",type:\"button\",color:\"teal\",children:[/*#__PURE__*/_jsx(Icon,{name:\"file audio outline\",size:\"large\"}),\"Choisissez votre chanson.\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",className:\"file-input__hidden\",onChange:handleFiles,name:\"file\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"form__submit-container\",children:/*#__PURE__*/_jsx(Button,{color:\"teal\",size:\"huge\",type:\"submit\",children:\"Uploader\"})}),progress&&/*#__PURE__*/_jsx(Progress,{className:\"progressbar\",percent:progress,color:\"teal\",progress:true}),progress===100&&/*#__PURE__*/_jsx(Message,{positive:true,className:\"succes__upload\",children:/*#__PURE__*/_jsx(Message.Header,{className:\"succes__upload__content\",children:\" Ta musique a bien \\xE9t\\xE9 upload\\xE9 !\"})}),errorCode===422&&/*#__PURE__*/_jsx(Message,{positive:true,className:\"succes__upload\",children:/*#__PURE__*/_jsx(Message.Header,{className:\"succes__upload__content\",children:\" Erreur. Fichier trop lourd ou mauvais format d'envoie....\"})})]})})]});};export default ModalAddMusic;","map":{"version":3,"sources":["/Users/nicolaspisar/Sites/_OClock/react/Apo/projet-9-sound-clock-front/src/components/User/ModalAddMusic.js"],"names":["React","useState","Header","Modal","Button","Icon","Form","Input","TextArea","Progress","Message","DatePicker","ModalAddMusic","title","file","picture","releaseDate","description","changeField","handleAddMusic","progress","errorCode","open","setOpen","Date","dateValue","onDateChange","handleChange","evt","target","value","name","handleFiles","files","handleSubmit","preventDefault","console","log","icon","color"],"mappings":"4JAAA;AACA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgCC,IAAhC,CAAsCC,IAAtC,CAA4CC,KAA5C,CAAmDC,QAAnD,CAA6DC,QAA7D,CAAuEC,OAAvE,KAAsF,mBAAtF,CACA,MAAOC,CAAAA,UAAP,KAAuB,mBAAvB,CAEA;AACA,MAAO,eAAP,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAUhB,IATJC,CAAAA,KASI,MATJA,KASI,CARJC,IAQI,MARJA,IAQI,CAPJC,OAOI,MAPJA,OAOI,CANJC,WAMI,MANJA,WAMI,CALJC,WAKI,MALJA,WAKI,CAJJC,WAII,MAJJA,WAII,CAHJC,cAGI,MAHJA,cAGI,CAFJC,QAEI,MAFJA,QAEI,CADJC,SACI,MADJA,SACI,CAEJ,cAAwBpB,QAAQ,CAAC,KAAD,CAAhC,wCAAOqB,IAAP,eAAaC,OAAb,eACA,eAAkCtB,QAAQ,CAAC,GAAIuB,CAAAA,IAAJ,EAAD,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CAC5B;AACAV,WAAW,CAACU,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAmBF,GAAG,CAACC,MAAJ,CAAWE,IAA9B,CAAX,CACD,CAHD,CAKA,GAAMC,CAAAA,WAAW,CAAE,QAAbA,CAAAA,WAAa,CAACJ,GAAD,CAAS,CAC1BV,WAAW,CAACU,GAAG,CAACC,MAAJ,CAAWI,KAAX,CAAiB,CAAjB,CAAD,CAAsBL,GAAG,CAACC,MAAJ,CAAWE,IAAjC,CAAX,CACD,CAFD,CAIA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,GAAD,CAAS,CAC5BA,GAAG,CAACO,cAAJ,GACAC,OAAO,CAACC,GAAR,CAAYZ,SAAZ,EACAN,cAAc,CAACM,SAAD,CAAd,CACD,CAJD,CAMA,mBAEE,MAAC,KAAD,EACA,QAAQ,CAAE,KADV,CAEA,IAAI,CAAEH,IAFN,CAGA,OAAO,CAAE,yBAAMC,CAAAA,OAAO,CAAC,KAAD,CAAb,EAHT,CAIA,MAAM,CAAE,wBAAMA,CAAAA,OAAO,CAAC,IAAD,CAAb,EAJR,CAKA,OAAO,cACL,MAAC,MAAD,EAAQ,SAAS,CAAC,uBAAlB,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,KAAX,EADF,0BANF,wBAYA,KAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,CAAqB,IAAI,CAAC,OAA1B,iDAZA,cAaA,KAAC,KAAD,CAAO,OAAP,wBAEE,MAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAEW,YAAxC,wBACE,KAAC,IAAD,CAAM,KAAN,wBACE,KAAC,KAAD,EACE,KAAK,CAAE,CAAEI,IAAI,CAAE,UAAR,CAAoBC,KAAK,CAAE,MAA3B,CADT,CAEE,aAAa,CAAC,aAFhB,CAGE,WAAW,CAAC,kBAHd,CAIE,IAAI,CAAC,MAJP,CAKE,IAAI,CAAC,MALP,CAME,KAAK,KANP,CAOE,QAAQ,CAAEZ,YAPZ,CAQE,IAAI,CAAC,OARP,CASE,KAAK,CAAEd,KATT,EADF,EADF,cAcE,KAAC,IAAD,CAAM,KAAN,wBACE,KAAC,UAAD,EACE,QAAQ,CAAEa,YADZ,CAEE,KAAK,CAAED,SAFT,CAGE,MAAM,CAAC,OAHT,CAIE,cAAc,CAAC,IAJjB,CAKE,gBAAgB,CAAC,IALnB,CAME,eAAe,CAAC,MANlB,CAOE,QAAQ,KAPV,EADF,EAdF,cAoDE,KAAC,QAAD,EACE,WAAW,CAAC,aADd,CAEE,SAAS,CAAC,eAFZ,CAGE,QAAQ,CAAEE,YAHZ,CAIE,IAAI,CAAC,aAJP,CAKE,KAAK,CAAEV,WALT,EApDF,cA2DE,aA3DF,cA2DQ,aA3DR,cA4DE,aAAK,SAAS,CAAC,sBAAf,wBACE,MAAC,MAAD,EAAQ,SAAS,CAAC,iBAAlB,CAAoC,EAAE,CAAC,OAAvC,CAA+C,OAAO,CAAC,SAAvD,CAAiE,IAAI,CAAC,QAAtE,CAA+E,KAAK,CAAC,MAArF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,oBAAX,CAAgC,IAAI,CAAC,OAArC,EADF,sCADF,cAKE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,SAFL,CAGE,SAAS,CAAC,oBAHZ,CAIE,QAAQ,CAAEe,WAJZ,CAKE,IAAI,CAAC,SALP,EALF,GA5DF,cAyEE,aAzEF,cA0EE,aAAK,SAAS,CAAC,sBAAf,wBACE,MAAC,MAAD,EAAQ,SAAS,CAAC,iBAAlB,CAAoC,EAAE,CAAC,OAAvC,CAA+C,OAAO,CAAC,MAAvD,CAA8D,IAAI,CAAC,QAAnE,CAA4E,KAAK,CAAC,MAAlF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,oBAAX,CAAgC,IAAI,CAAC,OAArC,EADF,+BADF,cAKE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,MAFL,CAGE,SAAS,CAAC,oBAHZ,CAIE,QAAQ,CAAEA,WAJZ,CAKE,IAAI,CAAC,MALP,EALF,GA1EF,cAuFE,aAvFF,cAuFQ,aAvFR,cAwFE,YAAK,SAAS,CAAC,wBAAf,uBACE,KAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,CAAqB,IAAI,CAAC,MAA1B,CAAiC,IAAI,CAAC,QAAtC,sBADF,EAxFF,CA4FIZ,QAAQ,eACR,KAAC,QAAD,EAAU,SAAS,CAAC,aAApB,CAAkC,OAAO,CAAEA,QAA3C,CAAsD,KAAK,CAAC,MAA5D,CAAmE,QAAQ,KAA3E,EA7FJ,CAiGGA,QAAQ,GAAK,GAAd,eACA,KAAC,OAAD,EAAS,QAAQ,KAAjB,CAAkB,SAAS,CAAC,gBAA5B,uBACE,KAAC,OAAD,CAAS,MAAT,EAAgB,SAAS,CAAC,yBAA1B,uDADF,EAlGF,CAyGGC,SAAS,GAAK,GAAf,eACA,KAAC,OAAD,EAAS,QAAQ,KAAjB,CAAkB,SAAS,CAAC,gBAA5B,uBACE,KAAC,OAAD,CAAS,MAAT,EAAgB,SAAS,CAAC,yBAA1B,wEADF,EA1GF,GAFF,EAbA,GAFF,CA8ID,CA5KD,CA8KA,cAAeT,CAAAA,aAAf","sourcesContent":["// == IMPORT NPM\nimport React, {useState} from \"react\";\nimport { Header, Modal, Button, Icon, Form, Input, TextArea, Progress, Message } from \"semantic-ui-react\";\nimport DatePicker from 'react-date-picker';\n\n// == IMPORT ASSETS\nimport './styles.scss'\n\nconst ModalAddMusic = ({\n  title,\n  file,\n  picture,\n  releaseDate,\n  description,\n  changeField,\n  handleAddMusic,\n  progress,\n  errorCode\n}) => { \n\n  const [open, setOpen] = useState(false);\n  const [dateValue, onDateChange] = useState(new Date());\n\n  const handleChange = (evt) => {\n    //console.log('la realsedate d\\'éclanche bien ça', evt.target.name);\n    changeField(evt.target.value, evt.target.name);\n  };\n\n  const handleFiles =(evt) => {\n    changeField(evt.target.files[0], evt.target.name);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    console.log(dateValue);\n    handleAddMusic(dateValue);\n  };\n  \n  return(\n\n    <Modal\n    centered={false}\n    open={open}\n    onClose={() => setOpen(false)}\n    onOpen={() => setOpen(true)}\n    trigger={\n      <Button className=\"content__addSong--btn\">\n        <Icon name=\"add\" />\n        Ajouter une musique.\n      </Button>\n      }\n  >\n    <Header color='teal' size='large'>Ajoutez une musique a votre compte:</Header>\n    <Modal.Content>\n\n      <Form className=\"upload-form\" onSubmit={handleSubmit}>\n        <Form.Field>\n          <Input\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            placeholder='Titre du Morceau'\n            size='huge'\n            type='text'\n            fluid \n            onChange={handleChange}\n            name='title'\n            value={title}\n          />\n        </Form.Field>\n        <Form.Field>\n          <DatePicker \n            onChange={onDateChange} \n            value={dateValue} \n            format=\"d-M-y\"\n            dayPlaceholder=\"--\"\n            monthPlaceholder=\"--\"\n            yearPlaceholder=\"----\"\n            required\n          />\n          {/*\n          <Input\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            placeholder='Date de sortie de la chanson: JJ/MM/AAAA'\n            size='huge'\n            type='text'\n            fluid \n            onChange={handleChange}\n            name='releaseDate'\n            value={releaseDate}\n          />\n        */}\n        </Form.Field>\n        {/*\n        //TODO This will be auto populated by the users label\n        <Form.Field>\n          <Input\n            label={{ icon: 'asterisk', color: 'teal'  }}\n            labelPosition='left corner'\n            placeholder='Label'\n            size='huge'\n            type='text' \n            fluid \n            required\n          />\n        </Form.Field>\n        */}\n        <TextArea \n          placeholder='Description' \n          className='file-textArea'\n          onChange={handleChange}\n          name='description'\n          value={description}\n        />\n        <br /><br />\n        <div className=\"file-input-container\">\n          <Button className=\"file-input__btn\" as=\"label\" htmlFor=\"picture\" type=\"button\" color='teal'>\n            <Icon name=\"file image outline\" size='large'/>\n            Choisir une image de couverture.\n          </Button>\n          <input \n            type=\"file\" \n            id=\"picture\" \n            className=\"file-input__hidden\" \n            onChange={handleFiles}\n            name='picture'\n          />\n        </div>\n        <br />\n        <div className=\"file-input-container\">\n          <Button className=\"file-input__btn\" as=\"label\" htmlFor=\"file\" type=\"button\" color='teal'>\n            <Icon name=\"file audio outline\" size='large'/>\n            Choisissez votre chanson.\n          </Button>\n          <input \n            type=\"file\" \n            id=\"file\" \n            className=\"file-input__hidden\" \n            onChange={handleFiles}\n            name='file'\n          />\n        </div>\n        <br /><br />\n        <div className=\"form__submit-container\"> \n          <Button color='teal' size='huge' type='submit'>Uploader</Button>\n        </div>\n        { \n          progress && \n          <Progress className=\"progressbar\" percent={progress}  color='teal' progress />  \n        }\n\n        {\n        (progress === 100) &&\n        <Message positive className=\"succes__upload\">\n          <Message.Header className=\"succes__upload__content\" > Ta musique a bien été uploadé !</Message.Header>\n        </Message>\n          \n        }\n\n        {\n        (errorCode === 422) &&\n        <Message positive className=\"succes__upload\">\n          <Message.Header className=\"succes__upload__content\" > Erreur. Fichier trop lourd ou mauvais format d'envoie....</Message.Header>\n        </Message>\n          \n        }\n        \n        \n        \n        \n        \n       \n\n      </Form>\n\n    </Modal.Content>\n  </Modal>\n\n  );\n\n};\n\nexport default ModalAddMusic;"]},"metadata":{},"sourceType":"module"}